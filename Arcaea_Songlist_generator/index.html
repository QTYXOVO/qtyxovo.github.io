<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcaea 歌曲列表生成器</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- 顶部导航栏 -->
        <header class="navbar">
            <div class="navbar-brand">
                <i class="fas fa-music"></i>
                <h1>Arcaea 歌曲列表生成器</h1>
            </div>
            <div class="navbar-actions">
                <button id="toggle-dark-mode" class="btn btn-icon">
                    <i class="fas fa-moon"></i>
                </button>
                <label for="import-json" class="btn btn-secondary">
                    <i class="fas fa-file-import"></i> 导入JSON
                    <input type="file" id="import-json" accept=".json" style="display: none;">
                </label>
                <button id="save-all" class="btn btn-success">
                    <i class="fas fa-save"></i> 保存全部
                </button>
            </div>
        </header>

        <!-- 移动端侧边栏切换按钮 -->
        <button id="toggle-sidebar" class="mobile-sidebar-toggle">
            <i class="fas fa-bars"></i>
            <span class="toggle-text">歌曲/难度</span>
        </button>
        
        <div class="app-layout">
            <!-- 左侧难度边栏 -->
        <aside id="difficulty-sidebar" class="difficulty-sidebar">
            <div class="sidebar-header">
                <h2>难度设置</h2>
                <button id="add-difficulty" class="btn btn-primary btn-sm">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="difficulty-section">
                <div class="difficulty-list">
                    <!-- 难度项目将由JS动态生成 -->
                </div>
            </div>
            
            <!-- 生成的歌曲列表 - 移到左侧边栏 -->
            <div class="output-section">
                <div class="section-header">
                    <h2>歌曲列表</h2>
                    <div class="section-actions">
                        <button id="export-json" class="btn btn-primary btn-sm">
                            <i class="fas fa-file-export"></i>
                        </button>
                        <button id="clear-all" class="btn btn-danger btn-sm">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                </div>
                <div id="output-list" class="output-list">
                    <!-- 生成的歌曲列表将由JS动态填充 -->
                    <div class="empty-state">
                        <i class="fas fa-music fa-2x text-gray-400"></i>
                        <p>暂无生成的歌曲</p>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- 侧边栏覆盖层 -->
        <div id="sidebar-overlay" class="sidebar-overlay"></div>

            <!-- 主内容区 -->
            <main class="main-content">
                <!-- 状态消息 -->
                <div id="status-message" class="status hidden">
                    <span class="status-text"></span>
                </div>

                <!-- 表单区域 -->
                <div class="form-section">
                    <div class="section-header">
                        <h2>歌曲信息</h2>
                        <div class="section-actions">
                            <button id="clear-form" class="btn btn-secondary">
                                <i class="fas fa-eraser"></i> 清空填写
                            </button>
                            <button id="add-song" class="btn btn-primary">
                                <i class="fas fa-plus"></i> 添加歌曲
                            </button>
                        </div>
                    </div>

                    <!-- 表单内容 - 分为必填和可选两栏 -->
                    <div class="form-columns">
                        <!-- 基础信息列 -->
                        <div class="form-column basic-fields">
                            <div class="form-card">
                                <h3><i class="fas fa-info-circle"></i> 基础信息</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="idx">索引 (idx)</label>
                                        <input type="number" id="idx" placeholder="唯一标识符">
                                    </div>
                                    <div class="form-group">
                                        <label for="id">歌曲ID (id)</label>
                                        <input type="text" id="id" placeholder="只能使用ASCII字符">
                                    </div>
                                    <div class="form-group">
                                        <label for="set">所属曲包 (set)</label>
                                        <input type="text" id="set" placeholder="曲包ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="purchase">购买方式 (purchase)</label>
                                        <input type="text" id="purchase" placeholder="曲包名或歌曲ID 否则留空">
                                    </div>
                                    <div class="form-group">
                                        <label for="side">歌曲属性 (side)</label>
                                        <select id="side">
                                            <option value="0">光芒侧 (0)</option>
                                            <option value="1">纷争侧 (1)</option>
                                            <option value="2">消色之侧 (2)</option>
                                            <option value="3">Lephon侧 (3)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="bg">背景文件名 (bg)</label>
                                        <input type="text" id="bg" placeholder="只能使用ASCII字符">
                                    </div>
                                    <div class="form-group">
                                        <label for="date">加入时间戳 (date)</label>
                                        <input type="number" id="date" placeholder="10位时间戳">
                                        <button id="get-current-timestamp" class="btn btn-sm btn-secondary mt-1">
                                            <i class="fas fa-clock"></i> 获取当前时间戳
                                        </button>
                                    </div>
                                    <div class="form-group">
                                        <label for="artist">作曲者 (artist)</label>
                                        <input type="text" id="artist" placeholder="作曲者名称">
                                    </div>
                                    <div class="form-group">
                                        <label for="version">游戏版本 (version)</label>
                                        <input type="text" id="version" placeholder="例如: 3.0.0">
                                    </div>
                                    <div class="form-group">
                                        <label for="audio-preview">预览开始时间 (audioPreview)</label>
                                        <input type="number" id="audio-preview" placeholder="毫秒">
                                    </div>
                                    <div class="form-group">
                                        <label for="audio-preview-end">预览结束时间 (audioPreviewEnd)</label>
                                        <input type="number" id="audio-preview-end" placeholder="毫秒">
                                    </div>
                                </div>
                            </div>

                            <!-- 曲名多语言设置 -->
                            <div class="form-card mt-4">
                                <h3><i class="fas fa-language"></i> 曲名</h3>
                                <div class="language-inputs">
                                    <div class="form-group">
                                        <label for="title-en">英文 (en)</label>
                                        <input type="text" id="title-en" placeholder="英文曲名">
                                    </div>
                                    <div class="form-group">
                                        <label for="title-ja">日文 (ja)</label>
                                        <input type="text" id="title-ja" placeholder="日文曲名">
                                    </div>
                                    <div class="form-group">
                                        <label for="title-zh-hans">简体中文 (zh-Hans)</label>
                                        <input type="text" id="title-zh-hans" placeholder="简体中文曲名">
                                    </div>
                                    <div class="form-group">
                                        <label for="title-zh-hant">繁体中文 (zh-Hant)</label>
                                        <input type="text" id="title-zh-hant" placeholder="繁体中文曲名">
                                    </div>
                                </div>
                            </div>

                            <!-- BPM设置 -->
                            <div class="form-card mt-4">
                                <h3><i class="fas fa-drum"></i> BPM设置</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="bpm">显示BPM (bpm)</label>
                                        <input type="text" id="bpm" placeholder="例如: 150">
                                    </div>
                                    <div class="form-group">
                                        <label for="bpm-base">基准BPM (bpm_base)</label>
                                        <input type="number" id="bpm-base" step="0.01" placeholder="例如: 150.0">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 可选字段列 -->
                        <div class="form-column optional-fields">
                            <div class="form-card">
                                <h3><i class="fas fa-ellipsis-h"></i> 可选信息</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="category">单曲包分类 (category)</label>
                                        <select id="category">
                                            <option value="">无</option>
                                            <option value="poprec">流行/推荐 (poprec)</option>
                                            <option value="partner">搭档 (partner)</option>
                                            <option value="original">原创 (original)</option>
                                            <option value="variety">综合 (variety)</option>
                                            <option value="musicgames">音乐游戏 (musicgames)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- 开关选项 -->
                            <div class="form-card mt-4">
                                <h3><i class="fas fa-toggle-on"></i> 开关选项</h3>
                                <div class="toggle-grid">
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" id="world-unlock">
                                            <span class="toggle-text">需要世界模式解锁 (world_unlock)</span>
                                        </label>
                                    </div>
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" id="remote-dl">
                                            <span class="toggle-text">需要远程下载 (remote_dl)</span>
                                        </label>
                                    </div>
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" id="byd-local-unlock">
                                            <span class="toggle-text">Beyond本地解锁 (byd_local_unlock)</span>
                                        </label>
                                    </div>
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" id="songlist-hidden">
                                            <span class="toggle-text">解锁前隐藏 (songlist_hidden)</span>
                                        </label>
                                    </div>
                                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="no-pp">
                            <span class="toggle-text">无版权标记 (no_pp) <span class="tooltip-icon" title="启用此选项表示该歌曲不会显示版权标记">?</span></span>
                        </label>
                    </div>
                                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="no-stream">
                            <span class="toggle-text">不可直播 (no_stream) <span class="tooltip-icon" title="启用此选项表示该歌曲受版权限制，不允许直播">?</span></span>
                        </label>
                    </div>
                                </div>
                            </div>

                            <!-- 附加信息 -->
                            <div class="form-card mt-4">
                                <h3><i class="fas fa-info-circle"></i> 附加信息</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="bg-inverse">反转背景 (bg_inverse)</label>
                                        <input type="text" id="bg-inverse" placeholder="只能使用ASCII字符">
                                    </div>
                                    <div class="form-group">
                                        <label for="source-localized-en">出处 (英文)</label>
                                        <input type="text" id="source-localized-en" placeholder="英文出处">
                                    </div>
                                    <div class="form-group">
                                        <label for="source-copyright">版权方 (source_copyright)</label>
                                        <input type="text" id="source-copyright" placeholder="包括©符号">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- 底部信息 -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="version-info">使用AI生成———版本: TEST</div>
                
                <div class="footer-links">
                    <a href="#" class="footer-link"><i class="fas fa-question-circle"></i> 帮助</a>
                    <a href="https://qtyxovo.github.io/" class="footer-link"><i class="fas fa-github"></i>主页</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- 难度编辑模态框 -->
    <div id="difficulty-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">编辑难度</h3>
                <button id="close-modal" class="btn btn-icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="difficulty-type">难度类型</label>
                        <select id="difficulty-type">
                            <option value="0">PST (0)</option>
                            <option value="1">PRS (1)</option>
                            <option value="2">FTR (2)</option>
                            <option value="3">BYD (3)</option>
                            <option value="4">ETR (4)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="difficulty-rating">难度等级 (rating)</label>
                        <input type="number" id="difficulty-rating" min="0" max="15" placeholder="例如: 9">
                    </div>
                    <div class="form-group">
                        <label for="chart-designer">谱师 (chartDesigner)</label>
                        <input type="text" id="chart-designer" placeholder="谱师名称">
                    </div>
                    <div class="form-group">
                        <label for="jacket-designer">封面绘师 (jacketDesigner)</label>
                        <input type="text" id="jacket-designer" placeholder="绘师名称">
                    </div>
                </div>
                <div class="toggle-grid mt-4">
                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="difficulty-rating-plus">
                            <span class="toggle-text">难度带+ (ratingPlus)</span>
                        </label>
                    </div>
                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="difficulty-legacy11">
                            <span class="toggle-text">旧版判定 (legacy11) <span class="tooltip-icon" title="启用此选项表示该谱面使用旧版(1.1版本前)的判定区域">?</span></span>
                        </label>
                    </div>
                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="difficulty-plus-fingers">
                            <span class="toggle-text">多指操作 (plusFingers) <span class="tooltip-icon" title="启用表示该谱面需要多指操作，默认不选">?</span></span>
                        </label>
                    </div>
                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="difficulty-jacket-override">
                            <span class="toggle-text">封面替换 (jacketOverride) <span class="tooltip-icon" title="启用表示该难度有根据难度替换的封面，封面文件名为ratingClass.jpg，默认不选">?</span></span>
                        </label>
                    </div>
                    <div class="toggle-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="difficulty-audio-override">
                            <span class="toggle-text">音频替换 (audioOverride) <span class="tooltip-icon" title="启用表示该难度有根据难度替换的音频文件，音频文件名为ratingClass.ogg，默认不选">?</span></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="delete-difficulty" class="btn btn-danger">删除难度</button>
                <button id="save-difficulty" class="btn btn-primary">保存难度</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>